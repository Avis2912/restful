      // original code below
      // if (matchFound) {
      //   const event = new Event("input", {
      //     bubbles: true,
      //     cancelable: true,
      //   });
      //   await document.activeElement.dispatchEvent(event);
      //   target.value = updatedText; //General
      //   document.activeElement.innerText = updatedText; //Linkedin
      //   document.activeElement.textContent = updatedText; //Twitter
      // }



// part 2 

    const updateInput = async (regex, callback) => {

      let updatedText = inputText;
      let match;
      let matchFound = false;

      console.log("regex: ", regex);
      console.log("updatedText: ", updatedText);

      while ((match = regex.exec(updatedText)) !== null) {
        console.log("Match found:", match); // Log the match
        matchFound = true;
        const generatedText = await callback(match);
        console.log("GeneratedText: ", generatedText);
        updatedText = updatedText.replace(match[0], match[0] + generatedText + "\n\n");

        // Reset lastIndex to 0 to avoid infinite loops
        regex.lastIndex = 0;
      }
      // chatgpt code here

      if (matchFound) {
        const event = new Event("keydown", {
          bubbles: true,
          cancelable: true,
          key: "a", // Replace with the key you want to simulate
          code: "KeyA", // Replace with the key code you want to simulate
        });
        await document.activeElement.dispatchEvent(event);
        target.value = updatedText; //General
        document.activeElement.innerText = updatedText; //Linkedin
        document.activeElement.textContent = updatedText; //Twitter
      }
    };
      


# part 3


   const updateInput = async (regex, callback) => {
      const matches = Array.from(inputText.matchAll(regex));
    
      if (matches.length === 0) {
        return;
      }
    
      const replacements = await Promise.all(matches.map(match => callback(match)));
      let updatedText = inputText;
    
      for (let i = 0; i < matches.length; i++) {
        const match = matches[i];
        const generatedText = replacements[i];
        updatedText = updatedText.replace(match[0], match[0] + generatedText + "\n\n");
      }
    
      const event = new Event("keydown", {
        bubbles: true,
        cancelable: true,
        key: "a", // Replace with the key you want to simulate
        code: "KeyA", // Replace with the key code you want to simulate
      });
    
      await document.activeElement.dispatchEvent(event);
      target.value = updatedText; //General

      console.log("target.value updated:", target.value);

      // Calculate the difference between original and updated text
      const difference = updatedText.slice(inputText.length);

      // Use InputEvent for updating text
      const inputEvent = new InputEvent("input", {
        bubbles: true,
        cancelable: true,
        data: difference,
      });
      console.log("Input event created:", inputEvent);
      
      document.activeElement.dispatchEvent(inputEvent);
      console.log("Input event dispatched");

      // document.activeElement.innerText = updatedText; //Linkedin
      // document.activeElement.textContent = updatedText; //Twitter
    };

    const helpRegex = /help:\s*(.+?);/g;